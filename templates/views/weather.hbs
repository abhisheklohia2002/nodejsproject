<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>Weather app</title>
   
     {{!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
      --}}

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>






    <link rel="stylesheet" href="./css/style.css">
    <link rel="shortcut icon" href="./web.jpg" type="image/jpg">
    <link rel="stylesheet" href="./css/weather.css">
</head>
{{!-- 
<style>
    @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap');

* {
margin: 0;
padding: 0;
font-family: "Quicksand", sans-serif;
}

body {
background: #f3f2ef;
display: flex;
justify-content: center;
align-items: center;
flex-wrap: wrap;
height: 100vh;
width: 100vw;
}

html,body {
font-size: 62.5%;
height: 100%;
}

html {
background: #eee;
}

.box {
width: 20vw;
height: 60vh;
border-radius: 0.5rem;
box-shadow: 0 0.2rem 3rem rgba(0, 0, 0, 0.2);
background: #a5bbdd;
position: relative;
overflow: hidden;
transform: translate3d(0, 0, 0);
min-width: 20rem;
min-height: 35rem;
}

.wave.-one {
opacity: 0.3;
position: absolute;
top: 120%;
left: 50%;
background: #fff;
width: 50rem;
height: 50rem;
margin-left: -25rem;
margin-top: -25rem;
transform-origin: 50% 48%;
border-radius: 43%;
animation: drift 3000ms infinite linear;
z-index: 1;
}

.wave.-two {
animation: drift 7000ms infinite linear;
opacity: 0.1;
z-index: 3 !important;
}

.wave.-three {
animation: drift 7000ms infinite linear;
z-index: 2 !important;
opacity: 0.2;
}


.box::after {
content: "";
display: block;
left: 0;
top: 0;
width: 100%;
height: 100%;
z-index: 11;
transform: translate3d(0, 0, 0);
}

@keyframes drift {
from {
transform: rotate(0deg);
}
to {
transform: rotate(360deg);
}
}

.info {
position:absolute;
bottom: 0;
width: 100%;
height: 45%;
z-index: 4;
}

.location {
margin-top:1.5rem;
text-align: center;
font-weight: 800;
font-size: 3rem;
font-weight: 600;
}

.fa-street-view {
animation: rotates 3s linear infinite alternate;
}

@keyframes rotates {
from {

transform: translateX(-0.5rem);
}
to {

transform: translateX(0.5rem);

}
}

#date {
text-align: center;
margin-top: 0.5rem;
color: #57606f;
font-size: 1.5rem;
font-weight: 300;
text-transform: uppercase;
}

.temp {
margin-top: 2.5rem;
text-align: center;
font-size: 3rem;
}

.tempmin_max {
text-align: center;
margin-top: 0.3rem;
font-weight: 300;
font-size: 1.5rem;
color: #57606f;
}

#weathercon {
height: 55%;
display: flex;
justify-content: center;
align-items: center;
font-size: 3rem;
}

#weathercon .fas {
font-size: 6rem;
animation: fas-anime 3s linear infinite alternate;
}

@keyframes fas-anime {
from {
transform: scale(1.1);
}
to {
transform: scale(1.5)
}
}

@media (max-width: 600px) {
.box {
width: 90vw;
height: 80vh;
}

.wave {
top: 85%;
}

#weathercon {
font-size: 5em;
}

.info {
font-size: 1.5em;
}
}

@media (max-height: 500px) {
.box {
height: 80vh;
}

.wave {
top: 115%;
}
}

body > span {
width: 100vw;
text-align: center;
color: grey;
}

.inputData {
width: 100%;
height: 10vh;
display: flex;
justify-content: center;
align-items: center;
}

.inputField {
width: 50%;
margin: auto;
border-radius: 5rem;
padding: 1rem 1rem;
outline: none;
font-size: 1.5rem;
}

.errorMsg {
text-align: center;
font-size: 2rem;
margin: 2rem auto;
}
#time{
    text-align: center;
    font-size: 1vw;
    font-weight: 300;
}

</style>
 --}}



<body>


{{>navbar}}


 <div class="inpget">
            <input style="height:3vw; width :20vw" type="text" name="" id="text"  value = "" placeholder="Enter the City name"  > <button  onclick="GetData(true)" style="height: 3vw;width:6vw;" class="btnget">Get loaction</button>
        </div>
    <div class="box">
        
        <div class="wave-one"></div>
        <div class="wave-two"></div>
        <div class="wave-three"></div>



        <div id="weathercon">
            <i class="fa-solid fa-sun" style="color: #fcba03;"></i>
          
        </div>

        <div class="info">
            <h2 class="location">
                <i class="fa-solid fa-street-view"></i>
             

            </h2>
            
            <p id="date">
              
            </p>
            <h3 id = "time">

            </h3>
            <h1 class="temp">

            </h1>

            <h3 class="tempmin_max">
               
            </h3>
        </div>
    </div>


    {{>footer}}
</body>

<script>

    // const currData = document.getElementById("date");
    let weahercon = document.getElementById("weathercon");
    const tempStatus = "clouds";


const getCurrentDay = () => {
const weekday = new Array(7);
weekday[0] = "Sunday";
weekday[1] = "Monday";
weekday[2] = "Tuesday";
weekday[3] = "Webnesday";
weekday[4] = "Thursday";
weekday[5] = "Friday";
weekday[6] = "Saturday";






    let currentTime = new Date();
    console.log(weekday[currentTime.getDay()]);


}


getCurrentDay();






const getCurrentTime = () => {
    var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June', 'July', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec'];


var date = document.getElementById("date")
var timedate = document.getElementById("time")
    let currentTimeInfo  = new Date();
    let month = months[currentTimeInfo.getMonth()];
    let day = currentTimeInfo.getDate();
    let year = currentTimeInfo.getFullYear()
    var  hour = currentTimeInfo.getHours();
    let min = currentTimeInfo.getMinutes();

if(12 >= hour){
    console.log("AM");
    var periods = "AM"
    var hour =  Math.abs(12-hour)

}
else {
    console.log("PM")
   var periods = "PM"
    var hour =  Math.abs(12-hour)
}




    console.log(month,year,day,hour,min,periods)
    date.innerHTML = day + "-" + month + "-" + year

    timedate.innerHTML = hour+":"+min  + " " + periods
}


getCurrentTime();




    ///fetch data 

     const GetData  = async (x)=>{
        if(x){
  var city = document.querySelector("#text").value;
        }
      else {
        var city = "delhi"
      }

        
const api =      `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=506b970c4b9b8c1a6b86f413abbf6b42`;

try{
let data = await fetch(api);
let res = await data.json();
console.log(res,'res');


append(res)
}
catch(err){
    console.log("error")
}
    }

var x = false

    GetData(x)





    const append = (res)=>{
        var app= [];
app.push(res)
app.forEach((elem,i)=>{
    var collect = document.createElement("div");
    var loc = document.querySelector(".location");
    var temper  = document.querySelector(".temp");
var max_tem  = document.querySelector(".tempmin_max");
collect.innerHTML = null;
temper.innerHTML = null;
max_tem.innerHTML = null
loc.innerHTML = null

    temper.innerText = "Temp:"+" "+ elem.main.temp + "" + "C"

max_tem.innerHTML = "Max Temp:"+" "+elem.main.temp_max+""+"C" + "     "+ "Min Temp"+" "+elem.main.temp_min+""+"C"
    collect.innerText = elem.name + " " +elem.sys.country;
loc.append(collect);




})
    }
</script>
</html>



